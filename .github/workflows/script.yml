name: Update Lower ADF Environments

#

on:
#  push:
#    branches:
#      - main
  pull_request:
    branches:
      - main
jobs:
  push_adf_changes:
    runs-on: ubuntu-latest
    environment: dev
    steps:
#    - name: print body
#      env:
#        BODY: ${{ toJson(github) }}
#        BODY: ${{ github.event.pull_request.body }}.
#      run: echo "$BODY"
#      shell: bash
    - uses: actions/checkout@v2
      name: Checkout previous commit
      with:
        ref: adf_documentation
        path: adf_documentation
    - uses: actions/checkout@v2
      name: Checkout current commit
      with:
        ref: main
        path: main
    - name: Run script file
      run: |
        jira_check=`python3 ./main/script/jira_ticket_checker.py "${{ github.event.pull_request.body }}"` && if [ "$jira_check" != "" ]; then echo $jira_check;  exit 1; fi
      shell: bash
